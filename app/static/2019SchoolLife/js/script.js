var radius=230;var dtr=Math.PI/180;var d=300;var mcList=[];var active=false;var lasta=1;var lastb=1;var distr=true;var tspeed=5;var size=250;var mouseX=14;var mouseY=17;var howElliptical=1;var aA=null;var oDiv=null;window.onload=function(){var b=0;var a=null;oDiv=document.getElementById("tagbox");aA=oDiv.getElementsByTagName("a");for(b=0;b<aA.length;b++){a={};a.offsetWidth=aA[b].offsetWidth;a.offsetHeight=aA[b].offsetHeight;mcList.push(a)}sineCosine(0,0,0);positionAll();active=true;oDiv.onmouseover=function(){active=true};oDiv.onmousemove=function(e){var c=window.event||e;mouseX=c.clientX-(oDiv.offsetLeft+oDiv.offsetWidth/2);mouseY=c.clientY-(oDiv.offsetTop+oDiv.offsetHeight/2);mouseX/=5;mouseY/=5};setInterval(update,30)};function update(){var o;var n;if(active){o=(-Math.min(Math.max(-mouseY,-size),size)/radius)*tspeed;console.log(o);n=(Math.min(Math.max(-mouseX,-size),size)/radius)*tspeed;console.log(n)}else{o=lasta*0.98;n=lastb*0.98}lasta=o;lastb=n;if(Math.abs(o)<=0.01&&Math.abs(n)<=0.01){return}var m=0;sineCosine(o,n,m);for(var h=0;h<mcList.length;h++){var r=mcList[h].cx;var l=mcList[h].cy*ca+mcList[h].cz*(-sa);var g=mcList[h].cy*sa+mcList[h].cz*ca;var q=r*cb+g*sb;var k=l;var f=r*(-sb)+g*cb;var p=q*cc+k*(-sc);var i=q*sc+k*cc;var e=f;mcList[h].cx=p;mcList[h].cy=i;mcList[h].cz=e;per=d/(d+e);mcList[h].x=(howElliptical*p*per)-(howElliptical*2);mcList[h].y=i*per;mcList[h].scale=per;mcList[h].alpha=per;mcList[h].alpha=(mcList[h].alpha-0.6)*(10/6)}doPosition();depthSort()}function depthSort(){var a=0;var b=[];for(a=0;a<aA.length;a++){b.push(aA[a])}b.sort(function(e,c){if(e.cz>c.cz){return -1}else{if(e.cz<c.cz){return 1}else{return 0}}});for(a=0;a<b.length;a++){b[a].style.zIndex=a}}function positionAll(){var g=0;var e=0;var a=mcList.length;var c=0;var f=[];var b=document.createDocumentFragment();for(c=0;c<aA.length;c++){f.push(aA[c])}f.sort(function(){return Math.random()<0.5?1:-1});for(c=0;c<f.length;c++){b.appendChild(f[c])}oDiv.appendChild(b);for(var c=1;c<a+1;c++){if(distr){g=Math.acos(-1+(2*c-1)/a);e=Math.sqrt(a*Math.PI)*g}else{g=Math.random()*(Math.PI);e=Math.random()*(2*Math.PI)}mcList[c-1].cx=radius*Math.cos(e)*Math.sin(g);mcList[c-1].cy=radius*Math.sin(e)*Math.sin(g);mcList[c-1].cz=radius*Math.cos(g);aA[c-1].style.left=mcList[c-1].cx+oDiv.offsetWidth/2-mcList[c-1].offsetWidth/2+"px";aA[c-1].style.top=mcList[c-1].cy+oDiv.offsetHeight/2-mcList[c-1].offsetHeight/2+"px"}}function doPosition(){var a=oDiv.offsetWidth/2;var c=oDiv.offsetHeight/2;for(var b=0;b<mcList.length;b++){aA[b].style.left=mcList[b].cx+a-mcList[b].offsetWidth/2+"px";aA[b].style.top=mcList[b].cy+c-mcList[b].offsetHeight/2+"px";aA[b].style.fontSize=Math.ceil(12*mcList[b].scale/2)+8+"px";aA[b].style.filter="alpha(opacity="+100*mcList[b].alpha+")";aA[b].style.opacity=mcList[b].alpha}}function sineCosine(f,e,g){sa=Math.sin(f*dtr);ca=Math.cos(f*dtr);sb=Math.sin(e*dtr);cb=Math.cos(e*dtr);sc=Math.sin(g*dtr);cc=Math.cos(g*dtr)};